<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>quiz</title>
    <link rel="stylesheet" href="quiz2.css">
</head>
<body>
    <div id="dh">
        <a id="gohome">G0 HOME</a>
        <P>Quiz on Food</P>
        <h3 id="scoredis">score: 0</h3>
        <h3 id="bestscore">Best Score</h3>
    </div>
    <div class="outer">
    <h2>question</h2>
    <hr>
        <div class="quizbox">
            <h1 id="question">question display here.</h1>
            <hr>
            <div id="answerbtns">
                <button class="btn"> option1</button>
                <button class="btn">option2</button>
                <button class="btn">option3</button>
                <button class="btn">option4</button>
            </div>
            <div id="next">next</div>
            <div id="home"> Go home</div>
        </div>
    </div>
    <script>
        const questions =[
            {
                question: "Which Indian dish is made with lentils and often served with rice?",
                answers: [
                {text: "Paneer Tikka", solution: false},
                {text: "Dal", solution: true},
                {text: "Samosa", solution: false},
                {text: "Naan", solution: false}
                ]
            },
            {
                question: "What is the main ingredient in 'Chole'?",
                answers: [
                {text: "Potato", solution: false},
                {text: "Chickpeas", solution: true},
                {text: "Spinach", solution: false},
                {text: "Lentils", solution: false}
                ]
            },
            {
                question: "Which flatbread is commonly cooked in a tandoor?",
                answers: [
                {text: "Paratha", solution: false},
                {text: "Chapati", solution: false},
                {text: "Naan", solution: true},
                {text: "Puri", solution: false}
                ]
            },
            {
                question: "Which Indian dessert is made from condensed milk and shaped into balls?",
                answers: [
                {text: "Rasgulla", solution: true},
                {text: "Kheer", solution: false},
                {text: "Halwa", solution: false},
                {text: "Jalebi", solution: false}
                ]
            },
            {
                question: "What is the key spice in 'Garam Masala'?",
                answers: [
                {text: "Turmeric", solution: false},
                {text: "Cumin", solution: false},
                {text: "Coriander", solution: false},
                {text: "Cloves", solution: true}
                ]
            },
            {
                question: "Which dish is a popular South Indian breakfast made from fermented rice and lentil batter?",
                answers: [
                {text: "Idli", solution: true},
                {text: "Pakora", solution: false},
                {text: "Biryani", solution: false},
                {text: "Tandoori Chicken", solution: false}
                ]
            },
            {
                question: "Which Indian dish is known for its rich tomato-based gravy and butter?",
                answers: [
                {text: "Palak Paneer", solution: false},
                {text: "Butter Chicken", solution: true},
                {text: "Aloo Gobi", solution: false},
                {text: "Baingan Bharta", solution: false}
                ]
            },
            {
                question: "What is the name of the crispy Indian snack filled with spicy potatoes?",
                answers: [
                {text: "Pakora", solution: false},
                {text: "Samosa", solution: true},
                {text: "Dhokla", solution: false},
                {text: "Vada", solution: false}
                ]
            },
            {
                question: "Which rice dish is cooked with spices and meat or vegetables?",
                answers: [
                {text: "Khichdi", solution: false},
                {text: "Pulao", solution: false},
                {text: "Biryani", solution: true},
                {text: "Upma", solution: false}
                ]
            },
            {
                question: "Which Indian sweet is made by deep-frying flour batter and soaking it in sugar syrup?",
                answers: [
                {text: "Ladoo", solution: false},
                {text: "Barfi", solution: false},
                {text: "Jalebi", solution: true},
                {text: "Rasmalai", solution: false}
                ]
            }
                
        ];
        let question=document.querySelector("#question");
        let answerbtns=document.querySelectorAll(".btn");
        let nextbtn=document.querySelector("#next");
        let homebtn=document.querySelector("#home");
        if (localStorage.getItem('bestscore') === null) {
            localStorage.setItem('bestscore', 0);
        }
        gohome.addEventListener("click",()=>{
            window.open("quiz.html","_self");
        });
        let score=0;
        let scoredis=document.querySelector("#scoredis");
        let question_num=0;
        nextbtn.style.display="none";
        homebtn.style.display="none";
        questioncall(question_num);
        function questioncall(question_num){
            answerbtns.forEach(btn => {
                btn.style.backgroundColor = "";
                btn.disabled= false;
            });
            nextbtn.style.display = "none";
            let currentquestion = questions[question_num];
            let num = question_num+1;
            question.innerText= num + ". " + currentquestion.question;
            for(let i=0;i<4;i++){
                    answerbtns[i].innerHTML=currentquestion.answers[i].text;
            }

        }
        nextbtn.addEventListener("click", () => {
            for (let i = 0; i < 4; i++) {
                answerbtns[i].innerHTML = "";
            }
            question_num++;
            if (question_num < questions.length) {
                questioncall(question_num);
            } else {
                question.innerText = `Quiz Completed! Your score: ${score}/${questions.length}`;
                nextbtn.style.display = "none";
                answerbtns.forEach(btn=>{
                    btn.style.display = "none";
                })
                if(score>parseInt(localStorage.getItem('bestscore'))){
                    bestscore.innerText = "Best Score:"+ score;
                    localStorage.setItem('bestscore', score);
                }
                nextbtn.style.display = "none";
                homebtn.style.display = "inline-block";
                homebtn.addEventListener("click",()=>{
                    window.open("quiz.html","_self");
                })
            }
        });
        answerbtns.forEach((btn, index) => {
            btn.addEventListener("click", () => {
                let correct = questions[question_num].answers[index].solution;
                answerbtns.forEach((b, i) => {
                    b.disabled = true;
                    if (questions[question_num].answers[i].solution) {
                        b.style.backgroundColor = "green";
                    }
                });

                if (!correct) {
                    btn.style.backgroundColor = "red";
                } else {
                    score++;
                    scoredis.innerText="score: "+score;
                }

                nextbtn.style.display = "inline-block";
            });
        });
    </script>
</body>
</html>